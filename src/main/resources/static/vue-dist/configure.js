import{D as z,r as B,h as I,i as U,C as q,z as F,_ as O,c as u,a as m,j as V,b as e,k as g,w as E,d as k,e as J,u as l,n as C,F as L,f as N,t as y,v as A,E as G,G as K,o as Q,p as R,g as X,q as Y,s as Z}from"./chunks/_plugin-vue_export-helper-3-HUlo0i.js";/* empty css                    */const H=z("testConfig",()=>{const t=B({planId:null,runType:"TEST",testName:"",maxUsers:100,rampUpSeconds:60,testDurationSeconds:300,scenario:"COMPLETE",additionalConfig:""}),a=I([]),i=I([{value:"BASIC",label:"기본 테스트",description:"핵심 기능만 테스트하는 가벼운 시나리오"},{value:"COMPLETE",label:"완전 테스트",description:"모든 기능을 포함하는 포괄적인 시나리오"},{value:"STRESS",label:"스트레스 테스트",description:"시스템 한계를 테스트하는 고강도 시나리오"}]),d=I([{value:"TEST",label:"테스트 환경"},{value:"PROD",label:"운영 환경"}]),S=I(!1),f=I(!1),s=B({}),r=U(()=>{const n=Math.round(t.maxUsers*.5),o=n*.7,v=Math.round(o*t.testDurationSeconds),D=t.rampUpSeconds+t.testDurationSeconds,_=Math.floor(D/60),p=D%60;return{maxLoad:n,totalRequests:v,duration:`${_}분 ${p}초`}});return{testRequest:t,examPlans:a,scenarios:i,runTypes:d,isLoading:S,isSubmitting:f,errors:s,calculatedMetrics:r,validateForm:()=>{const n={};if(t.planId||(n.planId="시험 계획을 선택해주세요"),(t.maxUsers<1||t.maxUsers>1e4)&&(n.maxUsers="최대 사용자 수는 1-10000 사이여야 합니다"),(t.rampUpSeconds<0||t.rampUpSeconds>3600)&&(n.rampUpSeconds="램프업 시간은 0-3600초 사이여야 합니다"),(t.testDurationSeconds<60||t.testDurationSeconds>7200)&&(n.testDurationSeconds="테스트 지속시간은 60-7200초 사이여야 합니다"),t.additionalConfig&&t.additionalConfig.trim())try{JSON.parse(t.additionalConfig)}catch{n.additionalConfig="올바른 JSON 형식이 아닙니다"}return Object.keys(s).forEach(o=>delete s[o]),Object.assign(s,n),Object.keys(n).length===0},validateField:n=>{switch(n){case"planId":t.planId?delete s.planId:s.planId="시험 계획을 선택해주세요";break;case"maxUsers":t.maxUsers<1||t.maxUsers>1e4?s.maxUsers="최대 사용자 수는 1-10000 사이여야 합니다":delete s.maxUsers;break;case"rampUpSeconds":t.rampUpSeconds<0||t.rampUpSeconds>3600?s.rampUpSeconds="램프업 시간은 0-3600초 사이여야 합니다":delete s.rampUpSeconds;break;case"testDurationSeconds":t.testDurationSeconds<60||t.testDurationSeconds>7200?s.testDurationSeconds="테스트 지속시간은 60-7200초 사이여야 합니다":delete s.testDurationSeconds;break;case"additionalConfig":if(t.additionalConfig&&t.additionalConfig.trim())try{JSON.parse(t.additionalConfig),delete s.additionalConfig}catch{s.additionalConfig="올바른 JSON 형식이 아닙니다"}else delete s.additionalConfig;break}},saveTemplate:n=>{const o=JSON.parse(localStorage.getItem("performanceTestTemplates")||"[]"),v={templateName:n,...t,createdAt:new Date().toISOString()},D=o.findIndex(_=>_.templateName===n);return D>=0?o[D]={...v,updatedAt:new Date().toISOString()}:o.push(v),localStorage.setItem("performanceTestTemplates",JSON.stringify(o)),!0},loadTemplate:n=>{const v=JSON.parse(localStorage.getItem("performanceTestTemplates")||"[]").find(D=>D.templateName===n);return v?(Object.assign(t,v),!0):!1},getTemplates:()=>JSON.parse(localStorage.getItem("performanceTestTemplates")||"[]"),applyPreset:n=>{switch(n){case"LOW":t.maxUsers=50,t.rampUpSeconds=30,t.testDurationSeconds=180;break;case"MEDIUM":t.maxUsers=200,t.rampUpSeconds=60,t.testDurationSeconds=300;break;case"HIGH":t.maxUsers=500,t.rampUpSeconds=120,t.testDurationSeconds=600;break}},resetForm:()=>{t.planId=null,t.runType="TEST",t.testName="",t.maxUsers=100,t.rampUpSeconds=60,t.testDurationSeconds=300,t.scenario="COMPLETE",t.additionalConfig="",Object.keys(s).forEach(n=>delete s[n])}}}),j={async getExamPlans(){try{return await q.get("/dashboard/exam-plans")}catch(t){throw console.error("Failed to fetch exam plans:",t),new Error("시험 계획 목록을 불러오는데 실패했습니다")}},async startTest(t){var a,i;try{return await q.post("/dashboard/tests/start",t)}catch(d){throw console.error("Failed to start test:",d),(i=(a=d.response)==null?void 0:a.data)!=null&&i.message?new Error(d.response.data.message):new Error("테스트 시작에 실패했습니다")}},async validateConfig(t){var a,i;try{return await q.post("/dashboard/tests/validate",t)}catch(d){throw console.error("Failed to validate config:",d),(i=(a=d.response)==null?void 0:a.data)!=null&&i.message?new Error(d.response.data.message):new Error("설정 검증에 실패했습니다")}},async saveTemplate(t){try{return await q.post("/dashboard/templates",t)}catch(a){throw console.error("Failed to save template:",a),new Error("템플릿 저장에 실패했습니다")}},async getTemplates(){try{return await q.get("/dashboard/templates")}catch(t){throw console.error("Failed to fetch templates:",t),new Error("템플릿 목록을 불러오는데 실패했습니다")}},async getScenarios(){try{return await q.get("/dashboard/scenarios")}catch(t){return console.error("Failed to fetch scenarios:",t),[{value:"BASIC",label:"기본 테스트",description:"핵심 기능만 테스트하는 가벼운 시나리오"},{value:"COMPLETE",label:"완전 테스트",description:"모든 기능을 포함하는 포괄적인 시나리오"},{value:"STRESS",label:"스트레스 테스트",description:"시스템 한계를 테스트하는 고강도 시나리오"}]}}};function M(){const t=H(),a=I(""),i=I(""),d=async()=>{t.isLoading=!0;try{const c=await j.getExamPlans();t.examPlans=c;try{const $=await j.getScenarios();t.scenarios=$}catch($){console.warn("Using default scenarios:",$.message)}}catch(c){x(c.message,"error")}finally{t.isLoading=!1}},S=async()=>{if(!t.validateForm())return x("입력값을 확인해주세요","error"),!1;t.isSubmitting=!0;try{await j.validateConfig(t.testRequest);const c=await j.startTest(t.testRequest);return c.success?(x("테스트가 성공적으로 시작되었습니다!","success"),setTimeout(()=>{const $=`/dashboard/monitor/${c.data.testId}`;window.location.href=$},2e3),!0):(x(c.message||"테스트 시작에 실패했습니다","error"),!1)}catch(c){return x(c.message,"error"),!1}finally{t.isSubmitting=!1}},f=async c=>{if(!c||!c.trim())return x("템플릿 이름을 입력해주세요","error"),!1;try{return t.saveTemplate(c.trim())?(x(`템플릿이 저장되었습니다: ${c}`,"success"),!0):(x("템플릿 저장에 실패했습니다","error"),!1)}catch($){return x($.message,"error"),!1}},s=c=>{try{return t.loadTemplate(c)?(x(`템플릿이 로드되었습니다: ${c}`,"success"),!0):(x("템플릿을 찾을 수 없습니다","error"),!1)}catch($){return x($.message,"error"),!1}},r=c=>{t.applyPreset(c),x(`${c} 부하 프리셋이 적용되었습니다`,"info")},x=(c,$="info")=>{a.value=c,i.value=$,$!=="error"&&setTimeout(()=>{a.value="",i.value=""},5e3)},T=()=>{a.value="",i.value=""};F(()=>t.testRequest.planId,()=>t.validateField("planId")),F(()=>t.testRequest.maxUsers,()=>t.validateField("maxUsers")),F(()=>t.testRequest.rampUpSeconds,()=>t.validateField("rampUpSeconds")),F(()=>t.testRequest.testDurationSeconds,()=>t.validateField("testDurationSeconds")),F(()=>t.testRequest.additionalConfig,()=>t.validateField("additionalConfig"));const h=U(()=>t.calculatedMetrics),b=U(()=>Object.keys(t.errors).length===0&&t.testRequest.planId&&t.testRequest.maxUsers>0&&t.testRequest.testDurationSeconds>=60),w=U(()=>t.getTemplates());return{testRequest:t.testRequest,examPlans:t.examPlans,scenarios:t.scenarios,runTypes:t.runTypes,errors:t.errors,isLoading:t.isLoading,isSubmitting:t.isSubmitting,metrics:h,isFormValid:b,templates:w,message:a,messageType:i,loadInitialData:d,startTest:S,saveAsTemplate:f,loadTemplate:s,applyLoadPreset:r,showMessage:x,hideMessage:T,validateField:t.validateField,resetForm:t.resetForm}}const ee={class:"bg-white border-b border-gray-200"},te={__name:"ConfigHeader",setup(t){return(a,i)=>(m(),u("div",ee,[...i[0]||(i[0]=[V('<div class="max-w-4xl mx-auto px-4 py-4" data-v-31cc6a5e><div class="flex justify-between items-center" data-v-31cc6a5e><h1 class="text-2xl font-bold text-gray-900" data-v-31cc6a5e>성능 테스트 설정</h1><div class="flex gap-2" data-v-31cc6a5e><a href="/dashboard" class="inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50" data-v-31cc6a5e><i class="fas fa-arrow-left mr-2" data-v-31cc6a5e></i> 대시보드로 </a></div></div><div class="mt-4 flex items-center text-sm text-gray-500" data-v-31cc6a5e><i class="fas fa-info-circle mr-2" data-v-31cc6a5e></i> 테스트 설정을 완료하고 성능 테스트를 시작할 수 있습니다. </div></div>',1)])]))}},se=O(te,[["__scopeId","data-v-31cc6a5e"]]),re={class:"bg-white border border-gray-200 rounded-lg p-6"},ae={class:"space-y-4"},oe=["value"],ne={key:0,class:"text-xs text-red-600 mt-1"},le=["value"],ie={__name:"BasicSettings",setup(t){const{testRequest:a,examPlans:i,runTypes:d,errors:S}=M();return(f,s)=>(m(),u("div",re,[s[10]||(s[10]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[e("i",{class:"fas fa-cogs"}),g(" 기본 설정 ")],-1)),e("div",ae,[e("div",null,[s[4]||(s[4]=e("label",{for:"planId",class:"block text-sm font-medium text-gray-700 mb-2"}," 시험 계획 * ",-1)),E(e("select",{id:"planId","onUpdate:modelValue":s[0]||(s[0]=r=>l(a).planId=r),class:C(["w-full border px-3 py-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",l(S).planId?"border-red-300":"border-gray-300"]),required:""},[s[3]||(s[3]=e("option",{value:""},"시험 계획을 선택하세요",-1)),(m(!0),u(L,null,N(l(i),r=>(m(),u("option",{key:r.planId,value:r.planId},y(r.planId)+" - "+y(r.name),9,oe))),128))],2),[[J,l(a).planId]]),s[5]||(s[5]=e("p",{class:"text-xs text-gray-500 mt-1"}," 성능 테스트를 실행할 시험 계획을 선택하세요. ",-1)),l(S).planId?(m(),u("p",ne,y(l(S).planId),1)):k("",!0)]),e("div",null,[s[6]||(s[6]=e("label",{for:"runType",class:"block text-sm font-medium text-gray-700 mb-2"}," 실행 타입 * ",-1)),E(e("select",{id:"runType","onUpdate:modelValue":s[1]||(s[1]=r=>l(a).runType=r),class:"w-full border border-gray-300 px-3 py-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[(m(!0),u(L,null,N(l(d),r=>(m(),u("option",{key:r.value,value:r.value},y(r.label),9,le))),128))],512),[[J,l(a).runType]]),s[7]||(s[7]=e("p",{class:"text-xs text-gray-500 mt-1"}," 테스트 환경 타입을 선택하세요. ",-1))]),e("div",null,[s[8]||(s[8]=e("label",{for:"testName",class:"block text-sm font-medium text-gray-700 mb-2"}," 테스트 이름 (선택) ",-1)),E(e("input",{id:"testName","onUpdate:modelValue":s[2]||(s[2]=r=>l(a).testName=r),type:"text",class:"w-full border border-gray-300 px-3 py-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"예: 정기시험_부하테스트_2025"},null,512),[[A,l(a).testName]]),s[9]||(s[9]=e("p",{class:"text-xs text-gray-500 mt-1"}," 식별하기 쉬운 테스트 이름을 입력하세요. ",-1))])])]))}},de=O(ie,[["__scopeId","data-v-03af1288"]]),ce={class:"bg-white border border-gray-200 rounded-lg p-6"},ue={class:"flex justify-between items-center mb-4"},me={class:"flex gap-2"},pe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},fe={key:0,class:"text-xs text-red-600 mt-1"},ge={key:0,class:"text-xs text-red-600 mt-1"},be={key:0,class:"text-xs text-red-600 mt-1"},xe={__name:"LoadSettings",setup(t){const{testRequest:a,errors:i,applyLoadPreset:d}=M(),S=f=>{d(f)};return(f,s)=>(m(),u("div",ce,[e("div",ue,[s[6]||(s[6]=e("h3",{class:"text-lg font-semibold text-gray-800 flex items-center gap-2"},[e("i",{class:"fas fa-users"}),g(" 부하 설정 ")],-1)),e("div",me,[e("button",{onClick:s[0]||(s[0]=r=>S("LOW")),type:"button",class:"px-3 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50 transition-colors"}," Low "),e("button",{onClick:s[1]||(s[1]=r=>S("MEDIUM")),type:"button",class:"px-3 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50 transition-colors"}," Medium "),e("button",{onClick:s[2]||(s[2]=r=>S("HIGH")),type:"button",class:"px-3 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50 transition-colors"}," High ")])]),e("div",pe,[e("div",null,[s[7]||(s[7]=e("label",{for:"maxUsers",class:"block text-sm font-medium text-gray-700 mb-2"}," 최대 사용자 수 * ",-1)),E(e("input",{id:"maxUsers","onUpdate:modelValue":s[3]||(s[3]=r=>l(a).maxUsers=r),type:"number",min:"1",max:"10000",step:"1",class:C(["w-full border px-3 py-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",l(i).maxUsers?"border-red-300":"border-gray-300"]),required:""},null,2),[[A,l(a).maxUsers,void 0,{number:!0}]]),s[8]||(s[8]=e("p",{class:"text-xs text-gray-500 mt-1"},"동시 접속할 최대 사용자 수",-1)),l(i).maxUsers?(m(),u("p",fe,y(l(i).maxUsers),1)):k("",!0)]),e("div",null,[s[9]||(s[9]=e("label",{for:"rampUpSeconds",class:"block text-sm font-medium text-gray-700 mb-2"}," 램프업 시간 (초) * ",-1)),E(e("input",{id:"rampUpSeconds","onUpdate:modelValue":s[4]||(s[4]=r=>l(a).rampUpSeconds=r),type:"number",min:"0",max:"3600",step:"1",class:C(["w-full border px-3 py-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",l(i).rampUpSeconds?"border-red-300":"border-gray-300"]),required:""},null,2),[[A,l(a).rampUpSeconds,void 0,{number:!0}]]),s[10]||(s[10]=e("p",{class:"text-xs text-gray-500 mt-1"},"최대 사용자까지 도달하는 시간",-1)),l(i).rampUpSeconds?(m(),u("p",ge,y(l(i).rampUpSeconds),1)):k("",!0)]),e("div",null,[s[11]||(s[11]=e("label",{for:"testDurationSeconds",class:"block text-sm font-medium text-gray-700 mb-2"}," 테스트 지속시간 (초) * ",-1)),E(e("input",{id:"testDurationSeconds","onUpdate:modelValue":s[5]||(s[5]=r=>l(a).testDurationSeconds=r),type:"number",min:"60",max:"7200",step:"1",class:C(["w-full border px-3 py-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",l(i).testDurationSeconds?"border-red-300":"border-gray-300"]),required:""},null,2),[[A,l(a).testDurationSeconds,void 0,{number:!0}]]),s[12]||(s[12]=e("p",{class:"text-xs text-gray-500 mt-1"},"테스트를 실행할 총 시간",-1)),l(i).testDurationSeconds?(m(),u("p",be,y(l(i).testDurationSeconds),1)):k("",!0)])]),s[13]||(s[13]=V('<div class="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md" data-v-b3fef935><div class="flex items-start" data-v-b3fef935><i class="fas fa-lightbulb text-blue-500 mt-0.5 mr-2" data-v-b3fef935></i><div class="text-sm text-blue-700" data-v-b3fef935><strong data-v-b3fef935>부하 프리셋:</strong><span class="block mt-1" data-v-b3fef935> Low (50명/30초/3분) • Medium (200명/1분/5분) • High (500명/2분/10분) </span></div></div></div>',1))]))}},ve=O(xe,[["__scopeId","data-v-b3fef935"]]),ye={class:"bg-white border border-gray-200 rounded-lg p-6"},Se={class:"bg-gray-50 border border-gray-200 rounded-md p-4"},we={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},he={class:"flex flex-col items-center p-3 bg-white rounded border"},$e={class:"text-2xl font-bold text-blue-600 mb-1"},Ce={class:"flex flex-col items-center p-3 bg-white rounded border"},Te={class:"text-2xl font-bold text-green-600 mb-1"},_e={class:"flex flex-col items-center p-3 bg-white rounded border"},ke={class:"text-2xl font-bold text-purple-600 mb-1"},Ue={class:"mt-4 pt-4 border-t border-gray-200"},Ie={class:"grid grid-cols-2 gap-4 text-sm"},Ee={class:"space-y-2"},De={class:"flex justify-between"},Pe={class:"font-medium"},Oe={class:"flex justify-between"},Re={class:"font-medium"},Le={key:0,class:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded"},Ne={key:1,class:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded"},Me={__name:"ConfigPreview",setup(t){const{testRequest:a,metrics:i}=M(),d=s=>new Intl.NumberFormat("ko-KR").format(s),S=U(()=>a.maxUsers>500||i.value.maxLoad>250),f=U(()=>a.rampUpSeconds+a.testDurationSeconds>1800);return(s,r)=>(m(),u("div",ye,[r[8]||(r[8]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[e("i",{class:"fas fa-chart-line"}),g(" 설정 미리보기 ")],-1)),e("div",Se,[e("div",we,[e("div",he,[e("div",$e,y(l(i).maxLoad),1),r[0]||(r[0]=e("div",{class:"text-sm text-gray-600 text-center"},[g(" 예상 최대 부하 "),e("br"),e("span",{class:"text-xs text-gray-500"},"TPS")],-1))]),e("div",Ce,[e("div",Te,y(d(l(i).totalRequests)),1),r[1]||(r[1]=e("div",{class:"text-sm text-gray-600 text-center"},[g(" 총 예상 요청 수 "),e("br"),e("span",{class:"text-xs text-gray-500"},"requests")],-1))]),e("div",_e,[e("div",ke,y(l(i).duration),1),r[2]||(r[2]=e("div",{class:"text-sm text-gray-600 text-center"},[g(" 예상 소요 시간 "),e("br"),e("span",{class:"text-xs text-gray-500"},"램프업 + 테스트")],-1))])]),e("div",Ue,[e("div",Ie,[r[5]||(r[5]=V('<div class="space-y-2" data-v-ff484db9><div class="flex justify-between" data-v-ff484db9><span class="text-gray-600" data-v-ff484db9>사용자당 평균 TPS:</span><span class="font-medium" data-v-ff484db9>0.5</span></div><div class="flex justify-between" data-v-ff484db9><span class="text-gray-600" data-v-ff484db9>평균 부하 비율:</span><span class="font-medium" data-v-ff484db9>70%</span></div></div>',1)),e("div",Ee,[e("div",De,[r[3]||(r[3]=e("span",{class:"text-gray-600"},"램프업 단계:",-1)),e("span",Pe,y(l(a).rampUpSeconds)+"초",1)]),e("div",Oe,[r[4]||(r[4]=e("span",{class:"text-gray-600"},"유지 단계:",-1)),e("span",Re,y(l(a).testDurationSeconds)+"초",1)])])])]),S.value?(m(),u("div",Le,[...r[6]||(r[6]=[e("div",{class:"flex items-start"},[e("i",{class:"fas fa-exclamation-triangle text-yellow-500 mt-0.5 mr-2"}),e("div",{class:"text-sm text-yellow-700"},[e("strong",null,"높은 부하 경고:"),g(" 설정된 부하가 매우 높습니다. 시스템 안정성을 위해 점진적으로 테스트하는 것을 권장합니다. ")])],-1)])])):k("",!0),f.value?(m(),u("div",Ne,[...r[7]||(r[7]=[e("div",{class:"flex items-start"},[e("i",{class:"fas fa-clock text-orange-500 mt-0.5 mr-2"}),e("div",{class:"text-sm text-orange-700"},[e("strong",null,"장시간 테스트:"),g(" 테스트 시간이 길어 리소스 사용량이 많을 수 있습니다. 모니터링을 지속적으로 확인하세요. ")])],-1)])])):k("",!0)])]))}},qe=O(Me,[["__scopeId","data-v-ff484db9"]]),Fe={class:"bg-white border border-gray-200 rounded-lg p-6"},Ae={class:"space-y-3"},je=["onClick"],Ve={class:"flex items-start gap-3 cursor-pointer"},Je=["value","onUpdate:modelValue"],Be={class:"flex-1"},He={class:"flex items-center justify-between mb-2"},We={class:"font-medium text-gray-900"},ze={class:"flex items-center gap-2"},Ge={class:"flex"},Ke={class:"text-sm text-gray-600 mb-3"},Qe={class:"flex flex-wrap gap-2"},Xe={class:"mt-3 pt-3 border-t border-gray-100"},Ye={class:"text-xs text-gray-500"},Ze={class:"font-medium"},et={key:0,class:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg"},tt={class:"text-sm text-gray-600 space-y-2"},st={__name:"ScenarioSelector",setup(t){const{testRequest:a,scenarios:i}=M(),d=h=>{a.scenario=h},S=h=>{switch(h){case"BASIC":return"fas fa-play-circle text-green-500";case"COMPLETE":return"fas fa-check-circle text-blue-500";case"STRESS":return"fas fa-fire text-red-500";default:return"fas fa-circle text-gray-500"}},f=h=>{switch(h){case"BASIC":return 2;case"COMPLETE":return 4;case"STRESS":return 5;default:return 1}},s=()=>[1,2,3,4,5],r=h=>{switch(h){case"BASIC":return["로그인","기본조회","가벼운부하"];case"COMPLETE":return["모든기능","실제워크플로우","표준부하"];case"STRESS":return["한계테스트","고부하","안정성검증"];default:return[]}},x=h=>{switch(h){case"BASIC":return"낮음 (시스템 부하 30%)";case"COMPLETE":return"보통 (시스템 부하 70%)";case"STRESS":return"높음 (시스템 부하 100%+)";default:return"알 수 없음"}},T=U(()=>{const h=i.value.find(w=>w.value===a.scenario);return h&&{BASIC:{scope:"핵심 기능만 포함된 최소한의 테스트",features:"로그인, 기본 조회, 간단한 CRUD 작업",recommendation:"초기 성능 검증, 빠른 테스트가 필요할 때"},COMPLETE:{scope:"실제 사용자 워크플로우를 반영한 포괄적인 테스트",features:"모든 주요 기능, 복합 업무 플로우, 파일 업로드/다운로드",recommendation:"정기적인 성능 검증, 배포 전 검증"},STRESS:{scope:"시스템 한계 및 안정성을 검증하는 고강도 테스트",features:"최대 부하, 동시 대량 처리, 장시간 연속 실행",recommendation:"시스템 한계 확인, 장애 시뮬레이션"}}[h.value]||null});return(h,b)=>(m(),u("div",Fe,[b[5]||(b[5]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[e("i",{class:"fas fa-route"}),g(" 테스트 시나리오 ")],-1)),e("div",Ae,[(m(!0),u(L,null,N(l(i),w=>(m(),u("div",{key:w.value,class:C(["border rounded-lg p-4 cursor-pointer transition-all duration-200","hover:border-blue-300 hover:shadow-sm",l(a).scenario===w.value?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white"]),onClick:c=>d(w.value)},[e("label",Ve,[E(e("input",{type:"radio",value:w.value,"onUpdate:modelValue":c=>l(a).scenario=c,class:"mt-1 w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},null,8,Je),[[G,l(a).scenario]]),e("div",Be,[e("div",He,[e("div",We,y(w.label),1),e("div",ze,[e("i",{class:C([S(w.value),"text-sm"])},null,2),e("div",Ge,[(m(!0),u(L,null,N(s(w.value),c=>(m(),u("span",{key:c,class:C(["w-2 h-2 rounded-full mr-1",c<=f(w.value)?"bg-orange-400":"bg-gray-200"])},null,2))),128))])])]),e("div",Ke,y(w.description),1),e("div",Qe,[(m(!0),u(L,null,N(r(w.value),c=>(m(),u("span",{key:c,class:C(["inline-flex items-center px-2 py-1 text-xs font-medium rounded",l(a).scenario===w.value?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"])},y(c),3))),128))]),e("div",Xe,[e("div",Ye,[b[0]||(b[0]=g(" 예상 부하: ",-1)),e("span",Ze,y(x(w.value)),1)])])])])],10,je))),128))]),T.value?(m(),u("div",et,[b[4]||(b[4]=e("h4",{class:"font-medium text-gray-900 mb-2 flex items-center gap-2"},[e("i",{class:"fas fa-info-circle text-blue-500"}),g(" 선택된 시나리오 상세 ")],-1)),e("div",tt,[e("p",null,[b[1]||(b[1]=e("strong",null,"테스트 범위:",-1)),g(" "+y(T.value.scope),1)]),e("p",null,[b[2]||(b[2]=e("strong",null,"주요 기능:",-1)),g(" "+y(T.value.features),1)]),e("p",null,[b[3]||(b[3]=e("strong",null,"권장 사용:",-1)),g(" "+y(T.value.recommendation),1)])])])):k("",!0)]))}},rt=O(st,[["__scopeId","data-v-4400b23b"]]),at={class:"bg-white border border-gray-200 rounded-lg p-6"},ot={class:"flex justify-between items-center mb-4"},nt={class:"border-b border-gray-200 pb-6"},lt={class:"flex flex-wrap gap-3"},it={class:"flex gap-2"},dt=["disabled"],ct={key:0,class:"flex gap-2"},ut=["value"],mt=["disabled"],pt={class:"space-y-3"},ft={key:0,class:"text-sm text-red-600 flex items-center gap-1"},gt={key:1,class:"flex items-center gap-2 text-sm"},bt={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},xt={__name:"AdvancedSettings",setup(t){const{testRequest:a,templates:i,errors:d,saveAsTemplate:S,loadTemplate:f,showMessage:s}=M(),r=I(!1),x=I(""),T=I(""),h=()=>{r.value=!r.value},b=U(()=>{if(!a.additionalConfig||!a.additionalConfig.trim())return null;try{return JSON.parse(a.additionalConfig),{isValid:!0,message:"올바른 JSON 형식입니다"}}catch(n){return{isValid:!1,message:`JSON 오류: ${n.message}`}}}),w=async()=>{await S(x.value)&&(x.value="")},c=()=>{f(T.value)&&(T.value="")},$=n=>{const v={timeout:{timeout:6e4,readTimeout:6e4,connectionTimeout:3e4},retry:{retries:5,retryDelay:1e3,retryOnError:!0},keepalive:{connectionPool:{maxConnections:100,keepAlive:!0,keepAliveTimeout:6e4}},clear:{}}[n]||{};a.additionalConfig=JSON.stringify(v,null,2),s({timeout:"타임아웃 설정이 적용되었습니다",retry:"재시도 설정이 적용되었습니다",keepalive:"연결 유지 설정이 적용되었습니다",clear:"추가 설정이 초기화되었습니다"}[n],"info")};return F(()=>a.additionalConfig,n=>{if(n&&n.trim())try{JSON.parse(n),delete d.additionalConfig}catch{d.additionalConfig="올바른 JSON 형식이 아닙니다"}else delete d.additionalConfig},{immediate:!0}),(n,o)=>(m(),u("div",at,[e("div",ot,[o[7]||(o[7]=e("h3",{class:"text-lg font-semibold text-gray-800 flex items-center gap-2"},[e("i",{class:"fas fa-cog"}),g(" 고급 설정 ")],-1)),e("button",{onClick:h,type:"button",class:"inline-flex items-center px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors"},[e("i",{class:C([r.value?"fas fa-chevron-up":"fas fa-chevron-down","mr-2"])},null,2),g(" "+y(r.value?"접기":"펼치기"),1)])]),E(e("div",{class:C(["space-y-6",{"animate-slide-down":r.value,"animate-slide-up":!r.value}])},[e("div",nt,[o[9]||(o[9]=e("h4",{class:"font-medium text-gray-900 mb-3 flex items-center gap-2"},[e("i",{class:"fas fa-save text-blue-500"}),g(" 템플릿 관리 ")],-1)),e("div",lt,[e("div",it,[E(e("input",{"onUpdate:modelValue":o[0]||(o[0]=v=>x.value=v),type:"text",placeholder:"템플릿 이름",class:"flex-1 min-w-32 border border-gray-300 px-3 py-2 text-sm rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[A,x.value]]),e("button",{onClick:w,disabled:!x.value.trim(),type:"button",class:"px-3 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors"}," 저장 ",8,dt)]),l(i).length>0?(m(),u("div",ct,[E(e("select",{"onUpdate:modelValue":o[1]||(o[1]=v=>T.value=v),class:"border border-gray-300 px-3 py-2 text-sm rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[o[8]||(o[8]=e("option",{value:""},"템플릿 선택",-1)),(m(!0),u(L,null,N(l(i),v=>(m(),u("option",{key:v.templateName,value:v.templateName},y(v.templateName),9,ut))),128))],512),[[J,T.value]]),e("button",{onClick:c,disabled:!T.value,type:"button",class:"px-3 py-2 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors"}," 로드 ",8,mt)])):k("",!0)])]),e("div",null,[o[12]||(o[12]=e("h4",{class:"font-medium text-gray-900 mb-3 flex items-center gap-2"},[e("i",{class:"fas fa-code text-purple-500"}),g(" 추가 설정 (JSON) ")],-1)),e("div",pt,[E(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=v=>l(a).additionalConfig=v),rows:"6",class:C(["w-full border px-3 py-2 text-sm font-mono rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",l(d).additionalConfig?"border-red-300":"border-gray-300"]),placeholder:`{
  "timeout": 30000,
  "retries": 3,
  "headers": {
    "User-Agent": "LoadTest/1.0"
  },
  "connectionPool": {
    "maxConnections": 100,
    "keepAlive": true
  }
}`},null,2),[[A,l(a).additionalConfig]]),o[11]||(o[11]=e("div",{class:"flex items-start gap-2"},[e("i",{class:"fas fa-info-circle text-blue-500 mt-0.5"}),e("div",{class:"text-sm text-gray-600 flex-1"}," JSON 형태로 추가 설정을 입력하세요. 타임아웃, 재시도 횟수, 커스텀 헤더 등을 설정할 수 있습니다. ")],-1)),l(d).additionalConfig?(m(),u("p",ft,[o[10]||(o[10]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),g(" "+y(l(d).additionalConfig),1)])):k("",!0),b.value?(m(),u("div",gt,[e("i",{class:C(b.value.isValid?"fas fa-check-circle text-green-500":"fas fa-times-circle text-red-500")},null,2),e("span",{class:C(b.value.isValid?"text-green-600":"text-red-600")},y(b.value.message),3)])):k("",!0)])]),e("div",null,[o[17]||(o[17]=e("h4",{class:"font-medium text-gray-900 mb-3 flex items-center gap-2"},[e("i",{class:"fas fa-sliders-h text-orange-500"}),g(" 빠른 설정 ")],-1)),e("div",bt,[e("button",{onClick:o[3]||(o[3]=v=>$("timeout")),type:"button",class:"p-3 text-sm border border-gray-300 rounded hover:bg-gray-50 text-left transition-colors"},[...o[13]||(o[13]=[e("div",{class:"font-medium"},"타임아웃 연장",-1),e("div",{class:"text-xs text-gray-500 mt-1"},"60초로 설정",-1)])]),e("button",{onClick:o[4]||(o[4]=v=>$("retry")),type:"button",class:"p-3 text-sm border border-gray-300 rounded hover:bg-gray-50 text-left transition-colors"},[...o[14]||(o[14]=[e("div",{class:"font-medium"},"재시도 활성화",-1),e("div",{class:"text-xs text-gray-500 mt-1"},"5회 재시도",-1)])]),e("button",{onClick:o[5]||(o[5]=v=>$("keepalive")),type:"button",class:"p-3 text-sm border border-gray-300 rounded hover:bg-gray-50 text-left transition-colors"},[...o[15]||(o[15]=[e("div",{class:"font-medium"},"연결 유지",-1),e("div",{class:"text-xs text-gray-500 mt-1"},"Keep-Alive 활성화",-1)])]),e("button",{onClick:o[6]||(o[6]=v=>$("clear")),type:"button",class:"p-3 text-sm border border-red-300 text-red-700 rounded hover:bg-red-50 text-left transition-colors"},[...o[16]||(o[16]=[e("div",{class:"font-medium"},"설정 초기화",-1),e("div",{class:"text-xs text-red-500 mt-1"},"모든 추가 설정 제거",-1)])])])])],2),[[K,r.value]])]))}},vt=O(xt,[["__scopeId","data-v-938a2ba9"]]),yt={class:"bg-white border border-gray-200 rounded-lg p-6"},St={class:"text-center space-y-4"},wt={class:"flex flex-col sm:flex-row justify-center gap-3"},ht=["disabled"],$t=["disabled"],Ct={class:"flex justify-center"},Tt={class:"pt-4 border-t border-gray-200"},_t={class:"flex flex-wrap justify-center gap-4 text-sm text-gray-600"},kt={key:0,class:"pt-4 border-t border-gray-100"},Ut={class:"flex flex-wrap justify-center gap-2"},It=["onClick"],Et={key:1,class:"pt-4 border-t border-gray-100"},Dt={__name:"ActionButtons",emits:["start-test","save-template"],setup(t,{emit:a}){const{testRequest:i,templates:d,errors:S,isFormValid:f,isSubmitting:s,resetForm:r,validateForm:x,loadTemplate:T,showMessage:h}=M(),b=I(!1),w=I(!1),c=U(()=>{if(f.value)return"모든 설정이 올바릅니다";const _=Object.keys(S).length;return _>0?`${_}개의 항목을 확인해주세요`:i.planId?"필수 항목을 입력해주세요":"시험 계획을 선택해주세요"}),$=U(()=>d.value.length>0),n=U(()=>d.value.sort((_,p)=>{const P=new Date(_.updatedAt||_.createdAt);return new Date(p.updatedAt||p.createdAt)-P}).slice(0,5)),o=()=>{if(x())h("설정이 올바릅니다! 테스트를 시작할 수 있습니다.","success");else{const p=Object.keys(S);h(`다음 항목을 확인해주세요: ${p.join(", ")}`,"error")}},v=()=>{confirm("현재 설정을 모두 초기화하시겠습니까?")&&(r(),h("설정이 초기화되었습니다","info"))},D=_=>{T(_.templateName)&&(b.value=!1)};return(_,p)=>(m(),u("div",yt,[e("div",St,[e("div",wt,[e("button",{onClick:p[0]||(p[0]=P=>_.$emit("save-template")),type:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},[...p[4]||(p[4]=[e("i",{class:"fas fa-save mr-2"},null,-1),g(" 템플릿 저장 ",-1)])]),e("button",{onClick:o,type:"button",disabled:l(s),class:"inline-flex items-center px-4 py-2 border border-blue-300 text-sm font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},[...p[5]||(p[5]=[e("i",{class:"fas fa-check mr-2"},null,-1),g(" 설정 검증 ",-1)])],8,ht),e("button",{onClick:p[1]||(p[1]=P=>_.$emit("start-test")),type:"submit",disabled:!l(f)||l(s),class:C(["inline-flex items-center px-6 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",l(f)&&!l(s)?"border-transparent text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 transform hover:scale-105":"border-gray-300 text-gray-400 bg-gray-100 cursor-not-allowed"])},[e("i",{class:C([l(s)?"fas fa-spinner fa-spin":"fas fa-play","mr-2"])},null,2),g(" "+y(l(s)?"테스트 시작 중...":"테스트 시작"),1)],10,$t)]),e("div",Ct,[c.value?(m(),u("div",{key:0,class:C(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",l(f)?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"])},[e("i",{class:C([l(f)?"fas fa-check-circle":"fas fa-exclamation-triangle","mr-1"])},null,2),g(" "+y(c.value),1)],2)):k("",!0)]),e("div",Tt,[e("div",_t,[e("button",{onClick:v,type:"button",class:"inline-flex items-center hover:text-red-600 transition-colors"},[...p[6]||(p[6]=[e("i",{class:"fas fa-redo mr-1"},null,-1),g(" 설정 초기화 ",-1)])]),$.value?(m(),u("button",{key:0,onClick:p[2]||(p[2]=P=>b.value=!b.value),type:"button",class:"inline-flex items-center hover:text-blue-600 transition-colors"},[...p[7]||(p[7]=[e("i",{class:"fas fa-history mr-1"},null,-1),g(" 최근 설정 ",-1)])])):k("",!0),e("button",{onClick:p[3]||(p[3]=P=>w.value=!w.value),type:"button",class:"inline-flex items-center hover:text-green-600 transition-colors"},[...p[8]||(p[8]=[e("i",{class:"fas fa-question-circle mr-1"},null,-1),g(" 도움말 ",-1)])])])]),b.value&&l(d).length>0?(m(),u("div",kt,[p[10]||(p[10]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"최근 사용한 템플릿",-1)),e("div",Ut,[(m(!0),u(L,null,N(n.value,P=>(m(),u("button",{key:P.templateName,onClick:W=>D(P),type:"button",class:"inline-flex items-center px-3 py-1 text-xs border border-gray-300 rounded-full hover:bg-gray-50 transition-colors"},[p[9]||(p[9]=e("i",{class:"fas fa-clock mr-1"},null,-1)),g(" "+y(P.templateName),1)],8,It))),128))])])):k("",!0),w.value?(m(),u("div",Et,[...p[11]||(p[11]=[V('<div class="text-left bg-blue-50 border border-blue-200 rounded-lg p-4" data-v-29ee4a3b><h4 class="text-sm font-medium text-blue-900 mb-2 flex items-center" data-v-29ee4a3b><i class="fas fa-lightbulb mr-2" data-v-29ee4a3b></i> 테스트 설정 가이드 </h4><div class="text-sm text-blue-700 space-y-2" data-v-29ee4a3b><p data-v-29ee4a3b><strong data-v-29ee4a3b>1. 기본 설정:</strong> 시험 계획과 실행 타입을 먼저 선택하세요.</p><p data-v-29ee4a3b><strong data-v-29ee4a3b>2. 부하 설정:</strong> 프리셋을 사용하거나 직접 입력하세요. Low → Medium → High 순으로 테스트를 권장합니다.</p><p data-v-29ee4a3b><strong data-v-29ee4a3b>3. 시나리오:</strong> BASIC(가벼움) → COMPLETE(표준) → STRESS(고부하) 순으로 선택하세요.</p><p data-v-29ee4a3b><strong data-v-29ee4a3b>4. 검증:</strong> &#39;설정 검증&#39; 버튼으로 설정을 미리 확인할 수 있습니다.</p></div></div>',1)])])):k("",!0),p[12]||(p[12]=e("div",{class:"pt-4 text-center"},[e("p",{class:"text-xs text-gray-500 flex items-center justify-center"},[e("i",{class:"fas fa-info-circle mr-2"}),g(" 테스트 시작 후 실시간 모니터링 페이지로 자동 이동됩니다. ")])],-1))])]))}},Pt=O(Dt,[["__scopeId","data-v-29ee4a3b"]]),Ot={class:"min-h-screen bg-gray-50"},Rt={class:"max-w-4xl mx-auto px-4 py-6"},Lt={key:0,class:"text-center py-12"},Nt={class:"flex items-center"},Mt={__name:"App",props:{initialData:{type:Object,default:()=>({})}},setup(t){const a=t,i=H(),{isLoading:d,message:S,messageType:f,loadInitialData:s,startTest:r,saveAsTemplate:x,hideMessage:T}=M(),h=()=>{const{initialData:n}=a;console.log("서버 데이터로 초기화:",n),n.examPlans&&(i.examPlans=n.examPlans),n.scenarios&&(i.scenarios=n.scenarios),n.runTypes&&(i.runTypes=n.runTypes),n.defaultRequest&&Object.assign(i.testRequest,n.defaultRequest),n.selectedPlan&&(i.testRequest.planId=n.selectedPlan.planId)},b=U(()=>{const n="border";switch(f.value){case"success":return`${n} bg-green-100 text-green-700 border-green-300`;case"error":return`${n} bg-red-100 text-red-700 border-red-300`;case"info":return`${n} bg-blue-100 text-blue-700 border-blue-300`;default:return`${n} bg-gray-100 text-gray-700 border-gray-300`}}),w=U(()=>{switch(f.value){case"success":return"fas fa-check-circle";case"error":return"fas fa-exclamation-circle";case"info":return"fas fa-info-circle";default:return"fas fa-info-circle"}}),c=async()=>{await r()},$=async()=>{const n=prompt("템플릿 이름을 입력하세요:");n&&await x(n)};return Q(()=>{var n,o;h(),(o=(n=a.initialData)==null?void 0:n.examPlans)!=null&&o.length||s(),console.log("Configure 앱 초기화 완료")}),(n,o)=>(m(),u("div",Ot,[R(se),e("main",Rt,[l(d)?(m(),u("div",Lt,[...o[1]||(o[1]=[e("i",{class:"fas fa-spinner fa-spin text-3xl text-blue-500 mb-4"},null,-1),e("p",{class:"text-gray-600"},"설정 정보를 불러오는 중...",-1)])])):(m(),u("form",{key:1,onSubmit:X(c,["prevent"]),class:"space-y-6"},[R(de),R(ve),R(qe),R(rt),R(vt),R(Pt,{onStartTest:c,onSaveTemplate:$})],32)),l(S)?(m(),u("div",{key:2,class:C([b.value,"mt-6 p-4 border"])},[e("div",Nt,[e("i",{class:C([w.value,"mr-2"])},null,2),e("span",null,y(l(S)),1),e("button",{onClick:o[0]||(o[0]=(...v)=>l(T)&&l(T)(...v)),class:"ml-auto text-xl leading-none",type:"button","aria-label":"닫기"}," × ")])],2)):k("",!0)])]))}},qt=O(Mt,[["__scopeId","data-v-b6954eee"]]);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("configure-app");if(!t){console.error("Configure app mount point not found");return}const a=f=>{const s=t.dataset[f];try{return s?JSON.parse(s):null}catch(r){return console.warn(`Failed to parse ${f}:`,r),null}},i={examPlans:a("examPlans")||[],scenarios:a("scenarios")||[],runTypes:a("runTypes")||[],selectedPlan:a("selectedPlan"),defaultRequest:a("defaultRequest")||{planId:null,runType:"TEST",testName:"",maxUsers:100,rampUpSeconds:60,testDurationSeconds:300,scenario:"COMPLETE",additionalConfig:""},vueConfig:a("vueConfig")||{},user:a("user")||{}};console.log("초기 데이터 로드:",i);const d=Y(qt,{initialData:i}),S=Z();d.use(S),d.config.globalProperties.$formatNumber=f=>new Intl.NumberFormat("ko-KR").format(f),d.config.globalProperties.$initialData=i,d.config.errorHandler=(f,s,r)=>{console.error("Vue 앱 오류:",f,r)};try{d.mount("#configure-app"),t.classList.add("vue-app-loaded"),console.log("Configure Vue 앱 마운트 완료")}catch(f){console.error("Vue 앱 마운트 실패:",f),t.innerHTML=`
      <div class="min-h-screen bg-gray-50 flex items-center justify-center">
        <div class="text-center">
          <div class="bg-red-100 rounded-full p-3 mx-auto mb-4 w-16 h-16 flex items-center justify-center">
            <i class="fas fa-exclamation-triangle text-red-600 text-2xl"></i>
          </div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">앱 초기화 실패</h3>
          <p class="text-gray-600 mb-4">Vue 앱 초기화 중 오류가 발생했습니다.</p>
          <div class="space-x-3">
            <a href="/dashboard" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">
              대시보드로
            </a>
            <a href="/dashboard/configure" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
              기존 버전 사용
            </a>
          </div>
        </div>
      </div>
    `}});
