import{_ as U,r as X,o as q,c as x,a as b,b as t,d as C,w as T,v as P,e as Q,F as j,f as L,t as d,u as _,g as G,h,i as w,j as Y,k as S,n as N,l as W,m as Z,p as F,q as tt,s as et}from"./chunks/_plugin-vue_export-helper-3-HUlo0i.js";/* empty css                    */import{u as M,a as J,p as st}from"./chunks/useWebSocket-CkbUkpdC.js";const ot=["value"],nt={class:"flex space-x-2 pt-2"},at=["disabled"],it=["disabled"],rt={key:0,class:"mt-4 p-3 bg-red-50 border-2 border-red-300"},lt={class:"text-sm text-red-600"},dt={__name:"TestControlPanel",setup(I){const l=M(),p=X({testName:"",planId:"",runType:"TEST",maxUsers:100,rampUpSeconds:60,testDurationSeconds:300,scenario:"BASIC"});async function f(){try{l.setTestConfig(p);const i=await l.startTest();console.log("Test started:",i),p.testName=""}catch(i){console.error("Failed to start test:",i)}}async function m(){var i;if((i=l.currentTest)!=null&&i.id)try{await l.stopTest(l.currentTest.id),console.log("Test stopped")}catch(n){console.error("Failed to stop test:",n)}}return q(()=>{l.plans.length===0&&l.loadPlans()}),(i,n)=>(b(),x("div",null,[n[14]||(n[14]=t("h2",{class:"flat-header"},"Test Control",-1)),t("form",{onSubmit:G(f,["prevent"]),class:"space-y-2"},[t("div",null,[n[6]||(n[6]=t("label",{class:"flat-label"}," Test Name ",-1)),T(t("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>p.testName=e),type:"text",required:"",class:"flat-input",placeholder:"Enter test name"},null,512),[[P,p.testName]])]),t("div",null,[n[8]||(n[8]=t("label",{class:"flat-label"}," Test Plan ",-1)),T(t("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>p.planId=e),required:"",class:"flat-input"},[n[7]||(n[7]=t("option",{value:"",disabled:""},"Select a plan",-1)),(b(!0),x(j,null,L(_(l).plans||[],e=>(b(),x("option",{key:(e==null?void 0:e.id)||(e==null?void 0:e.planId),value:(e==null?void 0:e.id)||(e==null?void 0:e.planId)},d((e==null?void 0:e.name)||(e==null?void 0:e.planName)||"Unnamed Plan")+" (ID: "+d((e==null?void 0:e.id)||(e==null?void 0:e.planId))+") ",9,ot))),128))],512),[[Q,p.planId]])]),t("div",null,[n[10]||(n[10]=t("label",{class:"flat-label"}," Run Type ",-1)),T(t("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>p.runType=e),class:"flat-input"},[...n[9]||(n[9]=[t("option",{value:"TEST"},"Test",-1),t("option",{value:"REAL"},"Real",-1)])],512),[[Q,p.runType]])]),t("div",null,[n[11]||(n[11]=t("label",{class:"flat-label"}," Max Users ",-1)),T(t("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>p.maxUsers=e),type:"number",min:"1",max:"10000",required:"",class:"flat-input"},null,512),[[P,p.maxUsers,void 0,{number:!0}]])]),t("div",null,[n[12]||(n[12]=t("label",{class:"flat-label"}," Ramp Up Duration (seconds) ",-1)),T(t("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>p.rampUpSeconds=e),type:"number",min:"1",required:"",class:"flat-input"},null,512),[[P,p.rampUpSeconds,void 0,{number:!0}]])]),t("div",null,[n[13]||(n[13]=t("label",{class:"flat-label"}," Test Duration (seconds) ",-1)),T(t("input",{"onUpdate:modelValue":n[5]||(n[5]=e=>p.testDurationSeconds=e),type:"number",min:"1",required:"",class:"flat-input"},null,512),[[P,p.testDurationSeconds,void 0,{number:!0}]])]),t("div",nt,[t("button",{type:"submit",disabled:_(l).loading||_(l).isTestRunning,class:"flex-1 flat-btn flat-btn-primary disabled:opacity-50 disabled:cursor-not-allowed"},d(_(l).loading?"Starting...":"Start Test"),9,at),_(l).isTestRunning?(b(),x("button",{key:0,type:"button",onClick:m,disabled:_(l).loading,class:"flex-1 flat-btn flat-btn-danger disabled:opacity-50 disabled:cursor-not-allowed"},d(_(l).loading?"Stopping...":"Stop Test"),9,it)):C("",!0)])],32),_(l).error?(b(),x("div",rt,[t("p",lt,d(_(l).error),1)])):C("",!0)]))}},ct=U(dt,[["__scopeId","data-v-b2405f3e"]]),ut={class:"flat-header flex justify-between items-center"},pt=["disabled"],vt={class:"mb-2 space-y-1"},mt={class:"flex space-x-2"},ft={key:0,class:"text-gray-500 text-center py-8"},xt={key:1,class:"overflow-hidden"},bt={class:"overflow-x-auto"},gt={class:"min-w-full border border-gray-300"},yt={class:"bg-gray-50 border-b border-gray-300"},_t={key:0,class:"ml-1"},ht={key:0,class:"ml-1"},Tt={key:0,class:"ml-1"},wt={class:"bg-white"},$t=["onClick"],kt={class:"px-2 py-2 whitespace-nowrap"},St={class:"text-sm font-medium text-gray-900"},Dt={class:"text-sm text-gray-500"},Ct={class:"px-2 py-2 whitespace-nowrap"},Pt={class:"text-sm text-gray-900"},Nt={class:"text-sm text-gray-500"},Ut={class:"px-2 py-2 whitespace-nowrap"},Mt={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},It={key:0},Rt={class:"px-4 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Et=["onClick"],Vt={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},At={class:"flex-1 flex justify-between sm:hidden"},Ft=["disabled"],jt=["disabled"],Lt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},qt={class:"text-sm text-gray-700"},Ht={class:"font-medium"},zt={class:"font-medium"},Bt={class:"font-medium"},Ot={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Qt=["disabled"],Gt=["onClick"],Wt=["disabled"],Jt={__name:"TestHistory",setup(I){const l=M(),p=h(!1),f=h(""),m=h(""),i=h("startTime"),n=h("desc"),e=h(1),y=h(10),g=w(()=>{let o=[...l.testHistory];if(f.value){const s=f.value.toLowerCase();o=o.filter(r=>r.testName&&r.testName.toLowerCase().includes(s)||r.id&&r.id.toString().includes(s))}return m.value&&(o=o.filter(s=>s.status===m.value)),o.sort((s,r)=>{let v=s[i.value],A=r[i.value];return i.value==="startTime"&&(v=new Date(v),A=new Date(A)),n.value==="asc"?v>A?1:-1:v<A?1:-1}),o}),$=w(()=>Math.ceil(g.value.length/y.value)),H=w(()=>{const o=(e.value-1)*y.value,s=o+y.value;return g.value.slice(o,s)}),z=w(()=>{const o=[],s=$.value,r=e.value;if(s<=7)for(let v=1;v<=s;v++)o.push(v);else if(r<=4){for(let v=1;v<=5;v++)o.push(v);o.push("..."),o.push(s)}else if(r>=s-3){o.push(1),o.push("...");for(let v=s-4;v<=s;v++)o.push(v)}else{o.push(1),o.push("...");for(let v=r-1;v<=r+1;v++)o.push(v);o.push("..."),o.push(s)}return o.filter(v=>v!=="..."||o.length>1)});q(()=>{R()});async function R(){p.value=!0;try{await l.loadTestHistory()}catch(o){console.error("Failed to refresh history:",o)}finally{p.value=!1}}function D(o){i.value===o?n.value=n.value==="asc"?"desc":"asc":(i.value=o,n.value="desc"),e.value=1}function B(o){typeof o=="number"&&o>=1&&o<=$.value&&(e.value=o)}function E(){e.value<$.value&&e.value++}function V(){e.value>1&&e.value--}function a(o){l.currentTest=o,window.location.href=`/performance/vue-dist/results.html?testId=${o.testId}`}function c(o){return o?new Date(o).toLocaleString():"-"}function u(o){if(!o)return"-";const s=Math.floor(o/60),r=o%60;return s>0?`${s}m ${r}s`:`${r}s`}function k(o){switch(o){case"RUNNING":return"status-running";case"COMPLETED":return"status-completed";case"FAILED":case"ERROR":return"status-failed";case"STOPPED":return"status-stopped";default:return"status-unknown"}}function O(o){l.currentTest=o,console.log("Selected test:",o)}return(o,s)=>(b(),x("div",null,[t("div",ut,[s[5]||(s[5]=t("h2",{class:"text-lg font-bold"},"Test History",-1)),t("button",{onClick:R,disabled:p.value,class:"flat-btn flat-btn-secondary text-sm disabled:opacity-50"},d(p.value?"Loading...":"Refresh"),9,pt)]),t("div",vt,[t("div",mt,[T(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>f.value=r),type:"text",placeholder:"Search tests...",class:"flex-1 flat-input text-sm"},null,512),[[P,f.value]]),T(t("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>m.value=r),class:"flat-input text-sm"},[...s[6]||(s[6]=[Y('<option value="" data-v-70bf858e>All Status</option><option value="RUNNING" data-v-70bf858e>Running</option><option value="COMPLETED" data-v-70bf858e>Completed</option><option value="FAILED" data-v-70bf858e>Failed</option><option value="STOPPED" data-v-70bf858e>Stopped</option>',5)])],512),[[Q,m.value]])])]),g.value.length===0?(b(),x("div",ft,d(f.value||m.value?"No tests match your filters":"No test history available"),1)):(b(),x("div",xt,[t("div",bt,[t("table",gt,[t("thead",yt,[t("tr",null,[t("th",{class:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:s[2]||(s[2]=r=>D("testName"))},[s[7]||(s[7]=S(" Test Name ",-1)),i.value==="testName"?(b(),x("span",_t,d(n.value==="asc"?"↑":"↓"),1)):C("",!0)]),t("th",{class:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:s[3]||(s[3]=r=>D("startTime"))},[s[8]||(s[8]=S(" Start Time ",-1)),i.value==="startTime"?(b(),x("span",ht,d(n.value==="asc"?"↑":"↓"),1)):C("",!0)]),t("th",{class:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:s[4]||(s[4]=r=>D("status"))},[s[9]||(s[9]=S(" Status ",-1)),i.value==="status"?(b(),x("span",Tt,d(n.value==="asc"?"↑":"↓"),1)):C("",!0)]),s[10]||(s[10]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Metrics",-1)),s[11]||(s[11]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",wt,[(b(!0),x(j,null,L(H.value,r=>(b(),x("tr",{key:r.id,class:"border-b border-gray-200 hover:bg-gray-50 transition-colors",onClick:v=>O(r)},[t("td",kt,[t("div",null,[t("div",St,d(r.testName||`Test #${r.id}`),1),t("div",Dt,"ID: "+d(r.id),1)])]),t("td",Ct,[t("div",Pt,d(c(r.startTime)),1),t("div",Nt,"Duration: "+d(u(r.testDurationSeconds)),1)]),t("td",Ut,[t("span",{class:N([k(r.status),"status-badge"])},d(r.status),3)]),t("td",Mt,[t("div",null,"Users: "+d(r.maxUsers),1),t("div",null,"Type: "+d(r.runType||"TEST"),1),r.avgTps?(b(),x("div",It,"TPS: "+d(r.avgTps.toFixed(2)),1)):C("",!0)]),t("td",Rt,[t("button",{onClick:G(v=>a(r),["stop"]),class:"text-blue-600 hover:text-blue-900"}," Details ",8,Et)])],8,$t))),128))])])]),t("div",Vt,[t("div",At,[t("button",{onClick:V,disabled:e.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,Ft),t("button",{onClick:E,disabled:e.value===$.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"}," Next ",8,jt)]),t("div",Lt,[t("div",null,[t("p",qt,[s[12]||(s[12]=S(" Showing ",-1)),t("span",Ht,d((e.value-1)*y.value+1),1),s[13]||(s[13]=S(" to ",-1)),t("span",zt,d(Math.min(e.value*y.value,g.value.length)),1),s[14]||(s[14]=S(" of ",-1)),t("span",Bt,d(g.value.length),1),s[15]||(s[15]=S(" results ",-1))])]),t("div",null,[t("nav",Ot,[t("button",{onClick:V,disabled:e.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,Qt),(b(!0),x(j,null,L(z.value,r=>(b(),x("button",{key:r,onClick:v=>B(r),class:N([{"bg-blue-50 border-blue-500 text-blue-600":r===e.value,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":r!==e.value},"relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},d(r),11,Gt))),128)),t("button",{onClick:E,disabled:e.value===$.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"}," Next ",8,Wt)])])])])]))]))}},Kt=U(Jt,[["__scopeId","data-v-70bf858e"]]),Xt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-2"},Yt={class:"metric-card"},Zt={class:"flex items-center"},te={class:"ml-3"},ee={class:"text-lg font-bold text-gray-900"},se={class:"metric-card"},oe={class:"flex items-center"},ne={class:"ml-3"},ae={class:"text-lg font-bold text-gray-900"},ie={class:"metric-card"},re={class:"flex items-center"},le={class:"ml-3"},de={class:"text-lg font-bold text-gray-900"},ce={class:"metric-card"},ue={class:"flex items-center"},pe={class:"ml-3"},ve={class:"text-lg font-bold text-gray-900"},me={class:"metric-card"},fe={class:"flex items-center"},xe={class:"ml-3"},be={class:"text-lg font-bold text-gray-900"},ge={__name:"QuickStats",setup(I){const l=M();function p(m){return m?m.toFixed(2):"0"}function f(m){return m?(m*100).toFixed(1):"0"}return(m,i)=>(b(),x("div",Xt,[t("div",Yt,[t("div",Zt,[i[1]||(i[1]=t("div",{class:"icon-box border-l-4 border-blue-500"},[t("svg",{class:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",te,[i[0]||(i[0]=t("p",{class:"text-xs font-medium text-gray-500 uppercase"},"Today Tests",-1)),t("p",ee,d(_(l).quickStats.todayTests),1)])])]),t("div",se,[t("div",oe,[i[3]||(i[3]=t("div",{class:"icon-box border-l-4 border-green-500"},[t("svg",{class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",ne,[i[2]||(i[2]=t("p",{class:"text-xs font-medium text-gray-500 uppercase"},"Success Rate",-1)),t("p",ae,d(f(_(l).quickStats.avgSuccessRate))+"%",1)])])]),t("div",ie,[t("div",re,[i[5]||(i[5]=t("div",{class:"icon-box border-l-4 border-purple-500"},[t("svg",{class:"w-6 h-6 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),t("div",le,[i[4]||(i[4]=t("p",{class:"text-xs font-medium text-gray-500 uppercase"},"Avg TPS",-1)),t("p",de,d(p(_(l).quickStats.avgTps)),1)])])]),t("div",ce,[t("div",ue,[i[7]||(i[7]=t("div",{class:"icon-box border-l-4 border-yellow-500"},[t("svg",{class:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",pe,[i[6]||(i[6]=t("p",{class:"text-xs font-medium text-gray-500 uppercase"},"Avg Response",-1)),t("p",ve,d(p(_(l).quickStats.avgResponseTime))+"ms",1)])])]),t("div",me,[t("div",fe,[i[9]||(i[9]=t("div",{class:"icon-box border-l-4 border-red-500"},[t("div",{class:"w-3 h-3 bg-red-500 animate-pulse"})],-1)),t("div",xe,[i[8]||(i[8]=t("p",{class:"text-xs font-medium text-gray-500 uppercase"},"Active Tests",-1)),t("p",be,d(_(l).quickStats.activeTestsCount),1)])])])]))}},ye=U(ge,[["__scopeId","data-v-11e12c1c"]]),_e={class:"flat-header flex justify-between items-center"},he={class:"text-sm text-gray-500"},Te={key:0,class:"text-gray-500 text-center py-8"},we={key:1,class:"space-y-2"},$e={class:"flex justify-between items-start mb-2"},ke={class:"font-medium text-gray-900"},Se={class:"text-sm text-gray-500"},De={class:"flex space-x-2"},Ce=["onClick"],Pe=["onClick","disabled"],Ne={class:"mb-2"},Ue={class:"flex justify-between text-xs text-gray-600 mb-1"},Me={class:"progress-bar"},Ie={class:"grid grid-cols-4 gap-2 text-xs"},Re={class:"text-center"},Ee={class:"font-medium"},Ve={class:"text-center"},Ae={class:"font-medium"},Fe={class:"text-center"},je={class:"font-medium"},Le={class:"text-center"},qe={class:"mt-2 pt-2 border-t border-gray-200"},He={class:"flex justify-between text-xs text-gray-500"},ze={__name:"ActiveTests",setup(I){const l=M(),p=J(),f=h([]),m=h({}),i=w(()=>l.activeTests),n=h([]);q(()=>{i.value.forEach(a=>{e(a.id)})}),W(()=>{n.value.forEach(a=>a())});function e(a){const c=p.subscribe(`/topic/metrics/${a}`,u=>{m.value[a]={...u,timestamp:Date.now()}});n.value.push(c)}function y(a,c){const u=m.value[a];return u&&u[c]||0}function g(a){if(!a.startTime||!a.testDurationSeconds)return 0;const c=(Date.now()-new Date(a.startTime))/1e3,u=Math.min(c/a.testDurationSeconds*100,100);return Math.round(u)}function $(a){if(!a)return"0:00";const c=Math.floor((Date.now()-new Date(a))/1e3),u=Math.floor(c/60),k=c%60;return`${u}:${k.toString().padStart(2,"0")}`}function H(a){if(!a.startTime||!a.testDurationSeconds)return"Unknown";const c=(Date.now()-new Date(a.startTime))/1e3,u=Math.max(a.testDurationSeconds-c,0),k=Math.floor(u/60),O=Math.floor(u%60);return u<=0?"Completing...":`${k}:${O.toString().padStart(2,"0")}`}async function z(a){if(!f.value.includes(a.id)){f.value.push(a.id);try{await l.stopTest(a.id);const c=n.value.findIndex(u=>u.testId===a.id);c!==-1&&(n.value[c](),n.value.splice(c,1)),delete m.value[a.id]}catch(c){console.error("Failed to stop test:",c)}finally{const c=f.value.indexOf(a.id);c!==-1&&f.value.splice(c,1)}}}function R(a){const c=`/performance/vue-dist/monitor.html?testId=${a.testId}`;window.open(c,"_blank")}function D(a){return a?a.toFixed(2):"0"}function B(a){return a?(a*100).toFixed(1):"0"}function E(a){return a?new Date(a).toLocaleTimeString():"-"}function V(a){return a>.1?"text-red-600":a>.05?"text-orange-600":"text-green-600"}return(a,c)=>(b(),x("div",null,[t("div",_e,[c[0]||(c[0]=t("h2",{class:"text-lg font-bold"},"Active Tests",-1)),t("span",he,d(i.value.length)+" running",1)]),i.value.length===0?(b(),x("div",Te," No active tests ")):(b(),x("div",we,[(b(!0),x(j,null,L(i.value,u=>(b(),x("div",{key:u.id,class:"test-card"},[t("div",$e,[t("div",null,[t("h3",ke,d(u.testName||`Test #${u.id}`),1),t("p",Se," Started: "+d(E(u.startTime)),1)]),t("div",De,[t("button",{onClick:k=>R(u),class:"flat-btn-sm flat-btn-info"}," Monitor ",8,Ce),t("button",{onClick:k=>z(u),class:"flat-btn-sm flat-btn-danger",disabled:f.value.includes(u.id)},d(f.value.includes(u.id)?"Stopping...":"Stop"),9,Pe)])]),t("div",Ne,[t("div",Ue,[c[1]||(c[1]=t("span",null,"Progress",-1)),t("span",null,d(g(u))+"%",1)]),t("div",Me,[t("div",{class:"progress-fill",style:Z({width:`${g(u)}%`})},null,4)])]),t("div",Ie,[t("div",Re,[c[2]||(c[2]=t("p",{class:"text-gray-500"},"TPS",-1)),t("p",Ee,d(D(y(u.id,"tps"))),1)]),t("div",Ve,[c[3]||(c[3]=t("p",{class:"text-gray-500"},"Users",-1)),t("p",Ae,d(y(u.id,"activeUsers"))+"/"+d(u.maxUsers),1)]),t("div",Fe,[c[4]||(c[4]=t("p",{class:"text-gray-500"},"Response",-1)),t("p",je,d(D(y(u.id,"avgResponseTime")))+"ms",1)]),t("div",Le,[c[5]||(c[5]=t("p",{class:"text-gray-500"},"Error %",-1)),t("p",{class:N(["font-medium",V(y(u.id,"errorRate"))])},d(B(y(u.id,"errorRate")))+"% ",3)])]),t("div",qe,[t("div",He,[t("span",null,"Elapsed: "+d($(u.startTime)),1),t("span",null,"Remaining: "+d(H(u)),1)])])]))),128))]))]))}},Be=U(ze,[["__scopeId","data-v-d57a99c6"]]),Oe={class:"min-h-screen bg-gray-50"},Qe={class:"bg-white border-b border-gray-300"},Ge={class:"max-w-full px-4"},We={class:"flex justify-between items-center h-12"},Je={class:"flex items-center gap-4"},Ke={class:"flex items-center gap-2"},Xe={class:"flex items-center gap-2"},Ye={class:"px-4 py-3"},Ze={class:"mb-3"},ts={class:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-3"},es={class:"flat-card"},ss={class:"flat-card"},os={class:"flat-card"},ns={__name:"App",setup(I){const l=M(),p=J(),f=h("checking"),m=w(()=>p.connecting.value?"connecting":p.connected.value?"connected":p.error.value?"error":"disconnected"),i=w(()=>({"status-active":f.value==="connected","status-inactive":f.value==="disconnected","status-error":f.value==="error"})),n=w(()=>({"status-active":m.value==="connected","status-inactive":m.value==="disconnected"||m.value==="connecting","status-error":m.value==="error"}));async function e(){try{await st.checkDatabaseHealth(),f.value="connected"}catch(y){f.value="error",console.error("Database health check failed:",y)}}return q(async()=>{var y;p.connect("/ws"),await Promise.all([l.loadPlans(),l.loadTests(),l.loadTestHistory(),l.loadQuickStats(),e()]),l.isTestRunning&&((y=l.currentTest)!=null&&y.id)&&p.subscribe(`/topic/metrics/${l.currentTest.id}`,g=>{console.log("Received metrics:",g)}),p.subscribe("/topic/test-completed",g=>{console.log("Test completed:",g),l.loadQuickStats(),l.loadTestHistory()}),setInterval(()=>{l.loadQuickStats()},6e4)}),W(()=>{p.disconnect()}),(y,g)=>(b(),x("div",Oe,[t("header",Qe,[t("div",Ge,[t("div",We,[g[2]||(g[2]=t("h1",{class:"text-xl font-bold text-gray-900"},"Performance Dashboard",-1)),t("div",Je,[t("div",Ke,[g[0]||(g[0]=t("span",{class:"text-sm font-medium text-gray-600"},"WebSocket",-1)),t("span",{class:N(["px-2 py-0.5 text-xs font-bold uppercase",n.value])},d(m.value),3)]),t("div",Xe,[g[1]||(g[1]=t("span",{class:"text-sm font-medium text-gray-600"},"Database",-1)),t("span",{class:N(["px-2 py-0.5 text-xs font-bold uppercase",i.value])},d(f.value),3)])])])])]),t("main",Ye,[t("section",Ze,[F(ye)]),t("div",ts,[t("div",es,[F(ct)]),t("div",ss,[F(Be)])]),t("section",os,[F(Kt)])])]))}},as=U(ns,[["__scopeId","data-v-89b07878"]]),K=tt(as),is=et();K.use(is);K.mount("#dashboard-app");console.log("Vue Dashboard App initialized");
